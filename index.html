<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CineStream - Plataforma de Streaming</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #0f0c29 0%, #302b63 50%, #24243e 100%);
            min-height: 100vh;
            color: #fff;
        }

        /* ========== PÁGINA DE INICIO ========== */
        #homePage {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        .navbar {
            background: rgba(0, 0, 0, 0.8);
            padding: 20px 40px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid #e94560;
            backdrop-filter: blur(10px);
        }

        .logo {
            font-size: 1.8em;
            font-weight: bold;
            background: linear-gradient(135deg, #e94560, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .hero {
            flex: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 60px 40px;
            text-align: center;
            background: linear-gradient(135deg, rgba(233, 69, 96, 0.1), rgba(243, 156, 18, 0.1));
        }

        .hero-content h1 {
            font-size: 3.5em;
            margin-bottom: 20px;
            background: linear-gradient(135deg, #e94560, #f39c12);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            line-height: 1.2;
        }

        .hero-content p {
            font-size: 1.3em;
            color: #aaa;
            margin-bottom: 30px;
        }

        .hero-btn {
            background: linear-gradient(135deg, #e94560, #f39c12);
            border: none;
            color: white;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 50px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 10px 30px rgba(233, 69, 96, 0.4);
        }

        .hero-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(233, 69, 96, 0.6);
        }

        .movies-grid {
            padding: 60px 40px;
            background: linear-gradient(180deg, transparent, rgba(0, 0, 0, 0.3));
        }

        .movies-grid h2 {
            font-size: 2.5em;
            margin-bottom: 40px;
            text-align: center;
            color: #f39c12;
        }

        .grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 30px;
        }

        .movie-card {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            overflow: hidden;
            cursor: pointer;
            transition: all 0.4s;
            border: 2px solid rgba(233, 69, 96, 0.2);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .movie-card:hover {
            transform: translateY(-15px) scale(1.05);
            border-color: #e94560;
            box-shadow: 0 20px 50px rgba(233, 69, 96, 0.4);
        }

        .movie-poster {
            width: 100%;
            height: 300px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            overflow: hidden;
            background-size: cover;
            background-position: center;
        }

        .movie-poster img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .movie-poster::after {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0);
            transition: background 0.4s;
            z-index: 1;
        }

        .movie-card:hover .movie-poster::after {
            background: rgba(0, 0, 0, 0.3);
        }

        .play-icon {
            position: absolute;
            font-size: 3em;
            opacity: 0;
            transition: opacity 0.4s;
            z-index: 2;
        }

        .movie-card:hover .play-icon {
            opacity: 1;
        }

        .movie-info {
            padding: 20px;
        }

        .movie-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 8px;
            color: #fff;
        }

        .movie-description {
            font-size: 0.9em;
            color: #aaa;
            margin-bottom: 12px;
            line-height: 1.4;
        }

        .movie-meta {
            display: flex;
            justify-content: space-between;
            font-size: 0.85em;
            color: #f39c12;
        }

        /* ========== PÁGINA DE REPRODUCCIÓN ========== */
        #playerPage {
            display: none;
            flex-direction: column;
            min-height: 100vh;
            background: #000;
            padding: 20px;
        }

        .player-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .back-btn {
            background: linear-gradient(135deg, #e94560, #f39c12);
            border: none;
            color: white;
            padding: 10px 20px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 0.95em;
        }

        .back-btn:hover {
            transform: translateX(-5px);
        }

        .player-title {
            font-size: 1.8em;
            color: #f39c12;
            font-weight: bold;
        }

        .player-container {
            display: grid;
            grid-template-columns: 1fr 350px;
            gap: 20px;
            flex: 1;
        }

        .player-section {
            background: rgba(0, 0, 0, 0.9);
            border-radius: 15px;
            overflow: hidden;
            border: 2px solid rgba(233, 69, 96, 0.3);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
            display: flex;
            flex-direction: column;
        }

        .video-container {
            position: relative;
            background: #000;
            aspect-ratio: 16 / 9;
            overflow: hidden;
            flex: 1;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .controls-bar {
            background: rgba(0, 0, 0, 0.95);
            padding: 15px;
            border-top: 1px solid rgba(233, 69, 96, 0.3);
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 5px;
            cursor: pointer;
            margin-bottom: 15px;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #e94560, #f39c12);
            border-radius: 5px;
            width: 0%;
            transition: width 0.1s;
        }

        .time-display {
            font-size: 0.85em;
            color: #aaa;
            margin-bottom: 15px;
        }

        .controls {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            align-items: center;
            justify-content: space-between;
        }

        .btn-group {
            display: flex;
            gap: 10px;
            align-items: center;
            flex-wrap: wrap;
        }

        button {
            background: linear-gradient(135deg, #e94560, #f39c12);
            border: none;
            color: white;
            padding: 10px 15px;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
            font-size: 0.85em;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(233, 69, 96, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .volume-control {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        input[type="range"] {
            width: 60px;
            height: 5px;
            accent-color: #e94560;
            cursor: pointer;
        }

        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .details-box {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(233, 69, 96, 0.3);
        }

        .details-box h3 {
            margin-bottom: 12px;
            color: #f39c12;
            font-size: 1.1em;
        }

        .detail-item {
            margin-bottom: 10px;
            font-size: 0.9em;
            color: #aaa;
        }

        .detail-item span {
            color: #f39c12;
            font-weight: bold;
        }

        .related-movies {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 15px;
            padding: 20px;
            border: 2px solid rgba(233, 69, 96, 0.3);
            max-height: 400px;
            overflow-y: auto;
        }

        .related-movies h3 {
            margin-bottom: 12px;
            color: #f39c12;
            font-size: 1.1em;
        }

        .related-item {
            background: rgba(233, 69, 96, 0.1);
            padding: 10px;
            margin-bottom: 8px;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            border-left: 3px solid #e94560;
            font-size: 0.85em;
        }

        .related-item:hover {
            background: rgba(233, 69, 96, 0.3);
            transform: translateX(5px);
        }

        @media (max-width: 1024px) {
            .player-container {
                grid-template-columns: 1fr;
            }

            .grid {
                grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            }
        }

        @media (max-width: 768px) {
            .hero-content h1 {
                font-size: 2.2em;
            }

            .hero-content p {
                font-size: 1em;
            }

            .navbar {
                padding: 15px 20px;
            }

            .movies-grid {
                padding: 40px 20px;
            }

            .controls {
                flex-direction: column;
            }

            .btn-group {
                width: 100%;
                justify-content: center;
            }
        }

        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #e94560;
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #f39c12;
        }
    </style>
</head>
<body>
    <!-- PÁGINA DE INICIO -->
    <div id="homePage">
        <nav class="navbar">
            <div class="logo">🎬 CineStream</div>
            <div style="font-size: 0.9em; color: #aaa;">Tu plataforma de streaming personal</div>
        </nav>

        <div class="hero">
            <div class="hero-content">
                <h1>Bienvenido a CineStream</h1>
                <p>Disfruta de miles de películas en alta definición</p>
                <button class="hero-btn" onclick="scrollToMovies()">Explorar películas</button>
            </div>
        </div>

        <div class="movies-grid">
            <h2>🎥 Películas Disponibles</h2>
            <div class="grid" id="movieGrid"></div>
        </div>
    </div>

    <!-- PÁGINA DE REPRODUCCIÓN -->
    <div id="playerPage">
        <div class="player-header">
            <button class="back-btn" onclick="goHome()">← Volver al inicio</button>
            <div class="player-title" id="playerMovieTitle"></div>
            <div></div>
        </div>

        <div class="player-container">
            <div class="player-section">
                <div class="video-container">
                    <video id="videoPlayer"></video>
                </div>
                <div class="controls-bar">
                    <div class="progress-bar" id="progressBar">
                        <div class="progress-fill" id="progressFill"></div>
                    </div>
                    <div class="time-display">
                        <span id="currentTime">0:00</span> / <span id="duration">0:00</span>
                    </div>
                    <div class="controls">
                        <div class="btn-group">
                            <button id="rewindBtn">⏪ -10s</button>
                            <button id="playBtn">▶ Reproducir</button>
                            <button id="pauseBtn">⏸ Pausa</button>
                            <button id="forwardBtn">⏩ +10s</button>
                        </div>
                        <div class="volume-control">
                            <span>🔊</span>
                            <input type="range" id="volumeSlider" min="0" max="100" value="100">
                        </div>
                    </div>
                </div>
            </div>

            <div class="sidebar">
                <div class="details-box">
                    <h3>📋 Detalles</h3>
                    <div class="detail-item">
                        <strong>Género:</strong> <span id="detailGenre">Acción</span>
                    </div>
                    <div class="detail-item">
                        <strong>Año:</strong> <span id="detailYear">2024</span>
                    </div>
                    <div class="detail-item">
                        <strong>Duración:</strong> <span id="detailDuration">-</span>
                    </div>
                    <div class="detail-item">
                        <strong>Progreso:</strong> <span id="detailProgress">0%</span>
                    </div>
                    <div class="detail-item">
                        <strong>Calificación:</strong> <span id="detailRating">⭐ 8.5/10</span>
                    </div>
                </div>

                <div class="related-movies">
                    <h3>📽️ Relacionadas</h3>
                    <div id="relatedMoviesList"></div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // Base de datos de películas
        const moviesDb = [
            {
                id: 1,
                name: 'JOJI PIXEALATED KISSES',
                url: 'videos/Joji - PIXELATED KISSES (Visualizer)',
                poster: 'imagenes/Joji.jpeg',
                genre: 'Acción',
                year: 2024,
                rating: 8.5,
                description: 'Una emocionante aventura de acción llena de suspense'
            },
            {
                id: 2,
                name: 'The Marias',
                url: 'videos/The Marías - Sienna (Español + Lyrics).mp4',
                poster: 'marias.jpeg',
                genre: 'Romance',
                year: 2023,
                rating: 8.0,
                description: 'Una historia de amor que trasciende el tiempo'
            },
            {
                id: 3,
                name: 'Misterio Oscuro',
                url: 'https://www.w3schools.com/html/mov_bbb.mp4',
                poster: 'https://images.unsplash.com/photo-1594908900066-3f47337549d8?w=300&h=400&fit=crop',
                genre: 'Thriller',
                year: 2024,
                rating: 9.0,
                description: 'Un thriller psicológico que mantendrá tu atención'
            },
            {
                id: 4,
                name: 'Risa Garantizada',
                url: 'https://www.w3schools.com/html/mov_bbb.mp4',
                poster: 'https://images.unsplash.com/photo-1598899134739-24c46f58b8c0?w=300&h=400&fit=crop',
                genre: 'Comedia',
                year: 2023,
                rating: 7.8,
                description: 'La comedia más divertida del año'
            },
            {
                id: 5,
                name: 'Aventura Épica',
                url: 'https://www.w3schools.com/html/mov_bbb.mp4',
                poster: 'https://images.unsplash.com/photo-1585647346386-8126b332fa0f?w=300&h=400&fit=crop',
                genre: 'Fantasía',
                year: 2024,
                rating: 8.7,
                description: 'Una aventura épica en mundos fantásticos'
            },
            {
                id: 6,
                name: 'Futuro Distópico',
                url: 'https://www.w3schools.com/html/mov_bbb.mp4',
                poster: 'https://images.unsplash.com/photo-1558618666-fcd25c85cd64?w=300&h=400&fit=crop',
                genre: 'Ciencia Ficción',
                year: 2024,
                rating: 8.3,
                description: 'Un viaje al futuro en una sociedad desconocida'
            }
        ];

        let currentMovieId = null;
        const video = document.getElementById('videoPlayer');

        // Formatear tiempo
        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            const mins = Math.floor(seconds / 60);
            const secs = Math.floor(seconds % 60);
            return `${mins}:${secs < 10 ? '0' : ''}${secs}`;
        }

        // Cargar grid de películas
        function loadMoviesGrid() {
            const grid = document.getElementById('movieGrid');
            grid.innerHTML = '';
            moviesDb.forEach(movie => {
                const card = document.createElement('div');
                card.className = 'movie-card';
                card.onclick = () => playMovie(movie.id);
                card.innerHTML = `
                    <div class="movie-poster">
                        <img src="${movie.poster}" alt="${movie.name}">
                        <div class="play-icon">▶</div>
                    </div>
                    <div class="movie-info">
                        <div class="movie-title">${movie.name}</div>
                        <div class="movie-description">${movie.description}</div>
                        <div class="movie-meta">
                            <span>${movie.genre}</span>
                            <span>${movie.year}</span>
                        </div>
                    </div>
                `;
                grid.appendChild(card);
            });
        }

        // Reproducir película
        function playMovie(movieId) {
            const movie = moviesDb.find(m => m.id === movieId);
            if (!movie) return;

            currentMovieId = movieId;
            video.src = movie.url;

            // Cargar progreso guardado
            const saved = JSON.parse(localStorage.getItem(`movie_${movieId}`) || '{"progress": 0, "currentTime": 0}');
            video.currentTime = saved.currentTime || 0;

            // Actualizar detalles
            document.getElementById('playerMovieTitle').textContent = movie.name;
            document.getElementById('detailGenre').textContent = movie.genre;
            document.getElementById('detailYear').textContent = movie.year;
            document.getElementById('detailRating').textContent = `⭐ ${movie.rating}/10`;

            // Cargar películas relacionadas
            loadRelatedMovies(movieId);

            // Cambiar a página de reproducción
            document.getElementById('homePage').style.display = 'none';
            document.getElementById('playerPage').style.display = 'flex';

            video.play();
            document.getElementById('playBtn').textContent = '⏸ Pausar';
        }

        // Cargar películas relacionadas
        function loadRelatedMovies(excludeId) {
            const related = moviesDb.filter(m => m.id !== excludeId);
            const list = document.getElementById('relatedMoviesList');
            list.innerHTML = '';
            related.forEach(movie => {
                const item = document.createElement('div');
                item.className = 'related-item';
                item.onclick = () => playMovie(movie.id);
                item.textContent = `${movie.poster} ${movie.name}`;
                list.appendChild(item);
            });
        }

        // Volver al inicio
        function goHome() {
            video.pause();
            document.getElementById('homePage').style.display = 'flex';
            document.getElementById('playerPage').style.display = 'none';
            currentMovieId = null;
        }

        // Scroll a películas
        function scrollToMovies() {
            document.querySelector('.movies-grid').scrollIntoView({ behavior: 'smooth' });
        }

        // Controles de reproducción
        document.getElementById('playBtn').addEventListener('click', function() {
            if (video.paused) {
                video.play();
                this.textContent = '⏸ Pausar';
            } else {
                video.pause();
                this.textContent = '▶ Reproducir';
            }
        });

        document.getElementById('pauseBtn').addEventListener('click', () => {
            video.pause();
            document.getElementById('playBtn').textContent = '▶ Reproducir';
        });

        document.getElementById('rewindBtn').addEventListener('click', () => {
            video.currentTime = Math.max(0, video.currentTime - 10);
        });

        document.getElementById('forwardBtn').addEventListener('click', () => {
            video.currentTime = Math.min(video.duration, video.currentTime + 10);
        });

        // Volumen
        document.getElementById('volumeSlider').addEventListener('input', (e) => {
            video.volume = e.target.value / 100;
        });

        // Barra de progreso
        const progressBar = document.getElementById('progressBar');
        const progressFill = document.getElementById('progressFill');

        video.addEventListener('timeupdate', () => {
            const progress = (video.currentTime / video.duration) * 100 || 0;
            progressFill.style.width = progress + '%';
            document.getElementById('currentTime').textContent = formatTime(video.currentTime);
            document.getElementById('detailProgress').textContent = Math.round(progress) + '%';

            if (currentMovieId) {
                const movieData = {
                    progress: progress,
                    currentTime: video.currentTime
                };
                localStorage.setItem(`movie_${currentMovieId}`, JSON.stringify(movieData));
            }
        });

        video.addEventListener('loadedmetadata', () => {
            const duration = formatTime(video.duration);
            document.getElementById('duration').textContent = duration;
            document.getElementById('detailDuration').textContent = duration;
        });

        progressBar.addEventListener('click', (e) => {
            const rect = progressBar.getBoundingClientRect();
            const percent = (e.clientX - rect.left) / rect.width;
            video.currentTime = percent * video.duration;
        });

        video.addEventListener('play', () => {
            document.getElementById('playBtn').textContent = '⏸ Pausar';
        });

        video.addEventListener('pause', () => {
            document.getElementById('playBtn').textContent = '▶ Reproducir';
        });

        // Inicializar
        loadMoviesGrid();
    </script>
</body>
</html>